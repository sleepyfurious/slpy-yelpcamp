<!DOCTYPE html>
<html>
<head>
	<title>YelpCamp</title>
	<link rel="stylesheet" type="text/css" href="https://stackpath.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/branding.css">
    <link href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap" rel="stylesheet">
</head>
<body>
	<nav class="navbar navbar-default navbar-fixed-top">
		<div class="container">

			<div class="navbar-header">
				<a class="navbar-brand" href="/"><span id="logo">YelpCamp!</span></a>
			</div>
            <ul class="nav navbar-nav">
                <li><a href="/campgrounds">Campgrounds</a></li>
            </ul>

            <ul class="nav navbar-nav navbar-right">
                <% if(!currentUser){ %>
                    <li><a href="/login">Login</a></li>
                    <li><a href="/register">Sign Up</a></li>
                <% } else { %>
                    <li>
                        <a <%- (currentUser && currentUser.username == "admin")? 
                                 'href="/profile"'
                               : '';
                        %> >
                            signed in as <%= currentUser.username %>
                        </a>
                    </li>
                    <li><a href="/logout">Logout</a></li>
                <% } %>
            </ul>

		</div>
	</nav>

    <div class="container">

        <!-- Undefined is not truthy, empty array is truthy. -->
        <% if (flash_error && flash_error.length > 0) { %>
            <div class="alert alert-danger" role="alert"><ul>
                <% flash_error.forEach((item) => { %>
                    <li><%= item %></li>
                <% }); %>
            </ul></div>
        <% } %>

        <% if (flash_success && flash_success.length > 0) { %>
            <div class="alert alert-success" role="alert"><ul>
                <% flash_success.forEach((item) => { %>
                    <li><%= item %></li>
                <% }); %>
            </ul></div>
        <% } %>
    </div>