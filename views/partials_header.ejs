<!DOCTYPE html>
<html>
<head>
    <title>Slpy's YelpCamp</title>

    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T"
          crossorigin="anonymous">
    <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.3.1/css/all.css"
          integrity="sha384-mzrmE5qonljUremFsqc01SB46JvROS7bZs3IO2EmfFsd15uHvIt+Y8vEf7N7fWAU"
          crossorigin="anonymous">
    <link rel="stylesheet" href="/main.css">
    <link rel="stylesheet" href="/branding.css">
</head>
<body>
    <nav class="navbar navbar-expand fixed-top navbar-light">
        <div class="container">
            <a class="navbar-brand" href="/"><span id="logo">YelpCamp!</span></a>

            <ul class="navbar-nav order-1 mr-n2">
                    <% if(!currentUser){ %>
                        <li class="nav-item"><a class="nav-link" href="/login">Login</a></li>
                        <li class="nav-item"><a class="nav-link" href="/register">Sign Up</a></li>
                    <% } else { %>
                        <li class="nav-item">
                            <a <%- (currentUser && currentUser.username == "admin")? 
                                        'href="/profile"'
                                    :   '';
                            %> class="nav-link">
                                signed in as <%= currentUser.username %>
                            </a>
                        </li>
                        <li class="nav-item"><a class="nav-link" href="/logout">Logout</a></li>
                    <% } %>
                </ul>

            <ul class="navbar-nav mr-auto">
                <li class="nav-item"><a class="nav-link" href="/campgrounds">Campgrounds</a></li>
            </ul>

        </div>

    </nav>

    <div class="container" id="flashes">

        <!-- Undefined is not truthy, empty array is truthy. -->
        <% if (flash_error && flash_error.length > 0) { %>
            <div class="alert alert-danger" role="alert"><ul>
                <% flash_error.forEach((item) => { %>
                    <li><%= item %></li>
                <% }); %>
            </ul></div>
        <% } %>

        <% if (flash_success && flash_success.length > 0) { %>
            <div class="alert alert-success" role="alert"><ul>
                <% flash_success.forEach((item) => { %>
                    <li><%= item %></li>
                <% }); %>
            </ul></div>
        <% } %>
    </div>